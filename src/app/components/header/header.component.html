<header class="header">
    <nav class="navbar">

        <div class="navbar__left">
            <img [routerLink]="'/'" class="navbar__logo" src="assets/img/Logo_completo_BIT_project__horizontal.svg"
                alt="Main Logo">
        </div>
        <div class="navbar-buttons__mobile">
            <img class="navbar-buttons__logo" src="assets\img\Menu.svg" alt="Menu logo">
        </div>

        <div class="navbar-buttons__desktop">
            <div class="navbar-buttons__left" [ngClass]="isloggedIn() ? 'add-lines' : ''">
                <a class="left__links" href="#">Locations</a>
                <a class="left__links" href="#">About Us</a>
            </div>

            <div class="navbar-buttons__right">
                @if(isloggedIn()){
                <a (click)="toggleCart()" class="right__cart"><img src="assets\img\Shopping Cart.svg" alt="Cart logo"></a>
                }
                <div class="right__button" (click)="openDropdown()">
                    <div class="right__button__menu">
                        <img src="assets\img\Menu_black.svg" alt="Menu logo">
                    </div>
                    <div class="right__button__user">
                        <img src="assets\img\MaleUser.svg" alt="User logo">
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="dropdown()" class="user-dropdown">
            <div [routerLink]="'/login'" *ngIf="!isloggedIn()" class="user-dropdown__item"
                [ngClass]="!isloggedIn() ? 'user-dropdown__item--first' : ''">
                <a>Log In</a>
            </div>
            <div [routerLink]="'/sign-up'" *ngIf="!isloggedIn()" class="user-dropdown__item"
                [ngClass]="!isloggedIn() ? 'user-dropdown__item--last' : ''">
                <a>Sign Up</a>
            </div>
            <div [routerLink]="'/user-settings'" *ngIf="isloggedIn()" class="user-dropdown__item"
                [ngClass]="isloggedIn() ? 'user-dropdown__item--first' : ''">
                <a>Account</a>
            </div>
            <div [routerLink]="'/'" (click)="logOut()" (click)="toggleNotification()" *ngIf="isloggedIn()" class="user-dropdown__item"
                [ngClass]="isloggedIn() ? 'user-dropdown__item--last' : ''">
                <a>Sign Out</a>
            </div>
        </div>

    </nav>

</header>

<div class="notification" *ngIf="showNotification()">
    <div class="notification__body">
        <img src="assets/img/check-circle.svg" alt="Success" class="notification__icon">
        <p>Logged out. Until next time!</p>
    </div>
    <div class="notification__progress"></div>
</div>

<aside class="cart" [ngClass]="showCart() ? 'cart show' : 'cart' ">
    <div class="cart-header">
        <h2 class="cart-header-title">Your Cart</h2>
    </div>
    <img src="assets/img/close.svg" class="cart__close" (click)="toggleCart()" alt="Close Icon"/>
    <section class="cart__experiences">
        @for(cartExperience of cartExperiences().values(); track cartExperience._id) {
            <app-cart-experience [experience]="cartExperience" />
        }
    </section>
    <div class="cart__details">
        <h3 class="cart__total">Total: <span>{{ cartTotal() | currency }}</span></h3>
        <a routerLink="/checkout" class="cart__checkout-button">Checkout</a>
    </div>
</aside>